<!DOCTYPE HTML>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,initial-scale=1.0,width=device-width"/>
		<title>APP</title>
		<link rel="stylesheet" type="text/css" href="../css/api.css"/>
		<link rel="stylesheet" type="text/css" href="../css/header.css"/>
		<link rel="stylesheet" type="text/css" href="../css/selflist.css"/>
		<link rel="stylesheet" type="text/css" href="../css/jquery.mobile.min.css"/>
<<<<<<< .mine
		<script type="text/javascript" src="../script/api.js"></script>
=======
		<!--<link rel="stylesheet" type="text/css" href="../css/ionic.min.css"/>-->
		<link rel="stylesheet" type="text/css" href="../css/dragdealer.css"/>
>>>>>>> .r6
		<script type="text/javascript" src="../script/jquery-2.1.3.js"></script>
<<<<<<< .mine
		<script type="text/javascript" src="../script/jquery.mobile-1.4.5.min.js"></script>
=======
		<script type="text/javascript" src="../script/jquery.mobile-1.4.5.min.js"></script>
		<script type="text/javascript" src="../script/av-0.5.0.min.js"></script>
		<script type="text/javascript" src="../script/config.js"></script>
		<script type="text/javascript" src="../script/api.js"></script>
		<script type="text/javascript" src="../script/mico-bind-0.1.js"></script>
		<script type="text/javascript" src="../script/mico-user-0.1.js"></script>
		<script type="text/javascript" src="../script/usermanage.js"></script>
		<script type="text/javascript" src="../script/micokitmanage.js"></script>
		<script type="text/javascript" src="../script/mqttsev.js"></script>
		<script type="text/javascript" src="../script/devdic.js"></script>
		<script type="text/javascript" src="../script/msgdic-zh.js"></script>
		<script type="text/javascript" src="../script/ionic.bundle.min.js"></script>
		<script type="text/javascript" src="../script/zepto.min.js"></script>
		<script type="text/javascript" src="../script/dragdealer.js"></script>
		<script type="text/javascript" src="../script/jquery.md5.js"></script>
>>>>>>> .r6
		<style>
<<<<<<< .mine
			.micocontent {
				margin-top: 45px;
				background-color: #F0F0F0;
				text-shadow: none;
			}
			#con {
				margin: 10px;
				font-size: 28px;
=======
			.micocontent {
				margin-top: 44px;
				background-color: #18161d;
				text-shadow: none;
>>>>>>> .r6
			}
			/*专门用户管理*/
			.myselfcontent {
				margin-top: 44px;
				/*background-color: #31304a;*/
				background-color: #18161d;
				text-shadow: none;
			}
			.myselfcontented {
				margin-top: 56px;
				background-color: #18161d;
				text-shadow: none;
				border-bottom: 7px #18161d solid;
			}			
			#tomyself {
				display: block;
			}
<<<<<<< .mine
			.easylincls {
				text-align: center;
			}
=======
			#backleft {
				display: none;
			}
			#motorbtn {
				height: 25px;
				width: 49px;
			}
			#vmotorbtn {
				height: 25px;
				width: 49px;
			}
			#tohomepage {
				display: none;
			}
			.serachText {
				color: #24c5c1;
				margin: 0 auto;
			}
			.serachText span {
				color: #24c5c1;
				font-family: arial;
				font-size: 13px;
			}
			.serachText img {
				height: 8px;
				width: 8px;
			}
			#wifi_ssid::-webkit-input-placeholder {
				color: #120f16;
			}
			#wifi_psw::-webkit-input-placeholder {
				color: #120f16;
			}
			#wifi_ssid:-moz-placeholder {
				color: #120f16;
			}
			#wifi_psw:-moz-placeholder {
				color: #120f16;
			}
			.p img {
				width: 75px;
				margin-top: 17.5px;
				/*margin: 0 auto;*/
				/*height: 90px;*/
			}
			.p {
				text-align: center;
			}
			.serachText2 {
				color: #24c5c1;
				/*margin: 0 auto;*/
				text-align: center;
			}
			.serachText2 span {
				color: #24c5c1;
				font-family: arial;
				font-size: 13px;
			}
			.serachText2 img {
				height: 8px;
				width: 8px;
			}
			#dev_psw::-webkit-input-placeholder {
				color: #120f16;
			}
			#dev_psw:-moz-placeholder {
				color: #120f16;
			}
			.lcop{
				color: #00EEEE;
				margin-right: 15px;
				float: right;
				font-size: 15px;
				font-family: arial;
			}
>>>>>>> .r6
		</style>
	</head>
	<body>
<<<<<<< .mine
		<!--顶部标题-->
		<header id="header" class="header">
			<a class="left" onclick="checkpage()" id="backleft"><img src="../image/smallicon-2.png" alt=""/></a>
			<a class="left" id="tomyself"><img src="../image/smallicon-3.png" alt=""/></a>
			<span class="center" id="titleName">MiCOKit</span>
			<a class="right" id="toeasylink"><img src="../image/smallicon-4.png" alt=""/></a>
			<a class="right" id="tohomepage"><img src="../image/smallicon-3r.png" alt=""/></a>
		</header>
		<div class="micocontent" data-role="page" id="dddddd">
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<!--<br/>
			<div >
			<input type="password" id="inputid" placeholder="手机号" />
=======
		<!--顶部标题-->
		<header id="header" class="header">
			<a class="left" onclick="checkpage()" id="backleft"><img src="../image/smallicon-2.png" alt=""/></a>
			<a class="left" id="tomyself"><img src="../image/smallicon-3.png" alt=""/></a>
			<span class="center" id="titleName">MiCOKit</span>
			<a class="right" id="toeasylink"><img src="../image/smallicon-4.png" alt=""/></a>
			<a class="right" id="tohomepage"><img src="../image/smallicon-3.png" alt=""/></a>
		</header>
		
		<!--虚拟测试页面-->
		<div class="micocontent" data-role="page" id="virtualdev">
			<div class="devctrlrowed">
				<ul>
					<li id="vchatliid" class="devctrlrowed devinfoclsed">
						<div>
							<a href="#" id="vtoUARTMSG"><img src="../image/04-devicename-chat92.svg"/><span>Uart</span></a>
							
							<a href="#" id="vtorgbctrl"><img src="../image/04-devicename-RGB92.svg"/><span>RGB</span></a>
						</div>
					</li>
				</ul>
>>>>>>> .r6
			</div>
<<<<<<< .mine
			<br/>
			<br/>
			<br/>
			<input type="button" onclick="changge()" value="切换"/>-->
			<!--pop-->
			<div class="phone">
				<input type="text" readonly data-theme="f" data-role="none" placeholder="SSID" id="wifi_ssid"/>
			</div>
			<div class="psw">
				<input type="text" data-theme="f" data-role="none" placeholder="密码" id="wifi_psw"/>
			</div>
			<a href="#" data-rel="popup" data-position-to="window" data-transition="none" data-dismissible="false" id="signinid">Sign in</a>
			<!--<div data-role="popup" id="popupLogin" data-overlay-theme="b"  data-dismissible="false" >
			<img style="width:250px;" src="../image/easylink.gif"/>
			<div class="easylincls">
			<a data-rel="back"><span>停止</span></a>
			</div>
			</div>-->
			<!--<a href="#popupDialog" data-rel="popup" data-position-to="window" data-transition="pop" class="ui-btn ui-corner-all ui-shadow ui-btn-inline ui-icon-delete ui-btn-icon-left ui-btn-b">Delete page...</a>
			<div data-role="popup" id="popupDialog" data-overlay-theme="b" data-theme="b" data-dismissible="false" style="max-width:400px;">
			<div data-role="header" data-theme="a">
			    <h1>Delete Page?</h1>
			</div>
			<div role="main" class="ui-content">
			        <h3 class="ui-title">Are you sure you want to delete this page?</h3>
			<p>
			This action cannot be undone.
			</p>
			        <a href="#" class="ui-btn ui-corner-all ui-shadow ui-btn-inline ui-btn-b" data-rel="back">Cancel</a>
			        <a href="#" class="ui-btn ui-corner-all ui-shadow ui-btn-inline ui-btn-b" data-rel="back" data-transition="flow">Delete</a>
			</div>
			</div>-->
=======
			<div class="devctrlrow">
				<div class="devinfotitle" id="vdevdataid">
					<span>设备数据</span>
				</div>
				<ul>
					<li id="vadcclsid" class="devctrlrow devinfocls">
						<img src="../image/adc.png"/>
						<span>Light</span>
						<div class="devdetail" id="vadcid">
							1066
						</div>
					</li>
					<li id="vtempclsid" class="devctrlrow devinfocls">
						<img src="../image/04devicename-temperature-120.png"/>
						<span>Temperature</span>
						<div class="devdetail" id="vtempid">
							28°C
						</div>
					</li>
					<li id="vhumiclsid" class="devctrlrow devinfocls">
						<img src="../image/04devicename-water-120.png"/>
						<span>Humidity</span>
						<div class="devdetail" id="vhumiid">
							36%RH
						</div>
					</li>
					<li id="vpro_sensorclsid" class="devctrlrow devinfocls">
						<img src="../image/04devicename-wifi-120.png"/>
						<span>Proximity</span>
						<div class="devdetail" id="vpro_sensorid">
							988
						</div>
					</li>
					<li id="vatmo_sensorclsid" class="devctrlrow devinfocls">
						<img src="../image/04devicename-qiya-120.png"/>
						<span>Atmosphere</span>
						<div class="devdetail" id="vatmo_sensorid">
							999
						</div>
					</li>
					<li id="vmontion_sensorclsid" class="devctrlrow devinfocls">
						<img src="../image/icon8.png"/>
						<span>Motion</span>
						<div class="devdetail" id="vmontion_sensorid">
							35
						</div>
					</li>
					<li id="vinfraedclsid" class="devctrlrow devinfocls">
						<img src="../image/04devicename-hongwai-120.png"/>
						<span>Infrared</span>
						<div class="devdetail" id="vinfraedid">
							4035
						</div>
					</li>
					<li id="vmotor_sensorclsid" class="devctrlrow devinfocls">
						<img src="../image/04devicename-dinaji-120.png"/>
						<span>Motor</span>
						<img class="rightarr" id="vmotorbtn" src="../image/smallicon-8kaiguan.png"/>
					</li>
				</ul>
			</div>
>>>>>>> .r6
		</div>
<<<<<<< .mine
		<!--EasyLink密码配置-->
		<!--<div class="micocontent" data-role="page" id="devmanage">
		<div class="content">
		<div class="phone">
		<input type="number" data-theme="f" data-role="none"  onfocus="this.type='number'" onblur="this.type='text'"  placeholder="设备密码" id="dev_psw"/>
		</div>
		<div class="subbutton" onclick="ajaxgetdveid()">
		<span><a href="#">保存</a></span>
		</div>
		<div class="savetipscls" align="center">
		<span>设备需要重启，请5秒后再点击保存。</span>
		</div>
		</div>
		</div>-->
=======
		<!--真实设备详情页面-->
		<div class="micocontent" data-role="page" id="deviceinfo">
			<div class="devctrlrowed">
				<ul>
					<li id="chatliid" class="devctrlrowed devinfoclsed">
						<a href="#" id="toUARTMSG"><img src="../image/04-devicename-chat92.svg"/><span>Uart</span></a>
					</li>
					<li id="rgbliid" class="devctrlrow devinfocls">
						<a href="#" id="torgbctrl"><img src="../image/04-devicename-RGB92.svg"/><span>RGB</span></a>
					</li>
				</ul>
			</div>
			<div class="devctrlrow">
				<div class="devinfotitle" id="devdataid">
					<span>设备数据</span>
				</div>
				<ul>
					<li id="adcclsid" class="devctrlrow devinfocls">
						<img src="../image/adc.png"/>
						<span>Light</span>
						<div class="devdetail" id="adcid">
							NaN
						</div>
					</li>
					<li id="tempclsid" class="devctrlrow devinfocls">
						<img src="../image/04devicename-temperature-120.png"/>
						<span>Temperature</span>
						<div class="devdetail" id="tempid">
							NaN
						</div>
					</li>
					<li id="humiclsid" class="devctrlrow devinfocls">
						<img src="../image/04devicename-water-120.png"/>
						<span>Humidity</span>
						<div class="devdetail" id="humiid">
							NaN
						</div>
					</li>
					<li id="pro_sensorclsid" class="devctrlrow devinfocls">
						<img src="../image/04devicename-wifi-120.png"/>
						<span>Proximity</span>
						<div class="devdetail" id="pro_sensorid">
							NaN
						</div>
					</li>
					<li id="atmo_sensorclsid" class="devctrlrow devinfocls">
						<img src="../image/04devicename-qiya-120.png"/>
						<span>Atmosphere</span>
						<div class="devdetail" id="atmo_sensorid">
							NaN
						</div>
					</li>
					<li id="montion_sensorclsid" class="devctrlrow devinfocls">
						<img src="../image/icon8.png"/>
						<span>Motion</span>
						<div class="devdetail" id="montion_sensorid">
							NaN
						</div>
					</li>
					<li id="infraedclsid" class="devctrlrow devinfocls">
						<img src="../image/04devicename-hongwai-120.png"/>
						<span>Infrared</span>
						<div class="devdetail" id="infraedid">
							NaN
						</div>
					</li>
					<li id="motor_sensorclsid" class="devctrlrow devinfocls">
						<img src="../image/04devicename-dinaji-120.png"/>
						<span>Motor</span>
						<img class="rightarr" id="motorbtn" src="../image/smallicon-8kaiguan.png"/>
					</li>
				</ul>
			</div>
		</div>
		<!--RGB控制-->
		<div class="micocontent" data-role="page" id="rgbctrl">
			<div class="onoffbtn">
				<select id="rgbonoffbtn" data-role="slider" onchange="checkrgbbtn()">
					<option>Off</option>
					<option>On</option>
				</select>
			</div>
			<div data-role="content" class="canvascls" align="center">
				<canvas id="colorPicker1"></canvas>
				<br/>
				<span class="colorspancls">亮度</span>
				<div id="brightslider" class="dragdealer">
					<div class="handle red-bar">
						<span class="brightval" id="brightspanid"></span>
					</div>
				</div>
				<span class="colorspancls">饱和度</span>
				<div id="satslider" class="dragdealer">
					<div class="handle red-bar">
						<span class="satval" id="satspanid"></span>
					</div>
				</div>
			</div>
		</div>
		<!--聊天列表-->
		<div class="micocontent" data-role="page" id="chatlist">
			<div data-role="content" align="center">
				<ul id="chatmsg"></ul>
			</div>
		</div>
		<!--SSID配置-->
		<div class="micocontent" data-role="page" id="ssidmanage">
			<div class="content">
				<div class="serachText">
					<img src="../image/06connect-circle15.svg"/>&nbsp; <span>请将设备进行配网</span>
				</div>
				<div class="phoned">
					<input type="text" data-theme="f" data-role="none" placeholder="Wi-Fi" id="wifi_ssid"/>
				</div>
				<div class="pswed">
					<input type="text" data-theme="f" data-role="none"  placeholder="请输入Wi-Fi密码" id="wifi_psw"/>
				</div>
				<div class="subbutton" onclick="getdevip()">
					<span><a href="#">确定</a></span>
				</div>
			</div>
		</div>
		<!--EasyLink密码配置-->
		<div class="micocontent" data-role="page" id="devmanage">
			<div class="content">
				<div class="p">
					<img src="../image/icon1-120.png"/>
				</div>
				<div class="serachText2">
					<img src="../image/06connect-circle15.svg"/>&nbsp; <span>配网成功.请设置设备密码</span>
				</div>
				<div class="phoned">
					<input type="number" data-theme="f" data-role="none" placeholder="请输入四位设备密码" id="dev_psw"/>
				</div>
				. <!--<div class="psw">
				<input type="password" data-theme="f" data-role="none" placeholder="Password Confirmation" id="dev_psw_conf"/>
				</div>-->
				<div class="subbutton" onclick="ajaxgetdveid()">
					<span><a href="#">确定</a></span>
				</div>
				<!--<div class="savetipscls" align="center">
					<span>设备需要重启，请5秒后再点击保存。</span>
				</div>-->
			</div>
		</div>
		<!--用户管理界面-->
		<div class="myselfcontent" data-role="page" id="myselfpage">
			<div class="myselfrow" id="userrowid">
				<div class="myselflisttitle" align="center" id="toeditaccount">
					<img class="rightarr" src="../image/touxiang.png"/>
					<br/>
					<span id="mynickname">NickName</span>
				</div>
				<ul>
					<li class="myselfrow myselflistcls" >
						<div><a href="#" id="toAuthpage"><img src="../image/03my account-Authorize70.svg"/><span class="lvzi">授权</span></a><a href="#" id="tofbpage"><img src="../image/03my account-feedback70.svg"/><span class="lanzi">反馈</span></a></div>
					</li>
					<li class="myselfrow myselflistcls" >
						<div><a href="#" id="touphispage"><img src="../image/03my account-update70.svg"/><span class="lanzi">系统升级</span></a><a href="#"><img src="../image/03my account-guide70.svg"/><span class="lvzi">导航</span></a></div>
					</li>
					<!--<!--<li class="myselfrow myselflistcls" id="logout">
						<!--<a href="#"><img src="../image/smallicon-dengchu.png"/><span>退出</span></a>-->
					<!--</li>-->
					<li class="myselfrow myselflistcls">
						<div><a href="#" id=""><img src="../image/03my account-about70.svg"/><span class="lvzi">关于我们</span></a><a href="#"><img src="../image/03my account-feedback70.svg"/><span class="lanzi">更多</span></a></div>
					</li>
				</ul>
			</div>
		</div>
		<!--反馈信息-->
		<div class="micocontent" data-role="page" data-theme="f" id="feedbackpage">
			<div class="fdcontent">
				<textarea rows="10" id="fdcontent" class="fdcontentcls"></textarea>
				<div class="subbutton" id="savefd">
					<span><a href="#">提交反馈</a></span>
				</div>
			</div>
		</div>
		<!--更新日志-->
		<div class="micocontent" data-role="page" data-theme="f" id="uphispage">
			<div class="fdcontent" align="left" id="uphistextid"></div>
		</div>
		<!--设备授权-->
		<div class="micocontent" data-role="page" id="authpage">
			<div data-role="content" align="center">
				<p>
					<a href="#" data-transition="none">加载设备...</a>
				</p>
			</div>
		</div>
		<!--用户信息管理-->
		<div class="myselfcontented" data-role="page" id="editaccount">
			<div class="myselfrowed">
				<ul>
					<li class="myselfrowedp">
					</li>
					<li class="myselfrowed myselflistclsed" id="nickclsid">
						<img class="pitu"  src="../image/03my account-gender45.svg"/>&nbsp;&nbsp;&nbsp;
						<span class="fontcolor">昵称</span>
						<div class="lcop" id="nicknameid">
							lcopen
						</div>
					</li>
					<li class="myselfrowed myselflistclsed" id="emailclsid">
						<img class="pitu"  src="../image/03my account-email45.svg"/>&nbsp;&nbsp;&nbsp;
						<span class="fontcolor">Email</span>
						<div class="devdetail" id="emailid">
							未设置
						</div>
					</li>
					<li class="myselfrowedp">
					</li>
					<li class="myselfrowed myselflistclsed" id="pswclsid">
						<img class="pitu"  src="../image/03my account-key45.svg"/>&nbsp;&nbsp;&nbsp;
						<span class="fontcolor">修改密码</span>
					</li>
					<li class="bk">
					</li>
					<li class="banked" id="logout">
						<a href="#"><span class="bank">退出登录</span></a>
					</li>
				</ul>
			</div>
		</div>
		<!--隐藏标识项-->
		<input type="hidden" id="devidtopic" value=""/>
>>>>>>> .r6
	</body>
	<script type="text/javascript">
<<<<<<< .mine
		var $popittt = $('<div data-role="popup" id="popupLogin" data-overlay-theme="b"  data-dismissible="false" >' + '<img style="width:250px;" src="../image/easylink.gif"/>' + '<div class="easylincls">' 
		+ '<a data-rel="back"><span>停止</span></a>' + '</div></div>');
		$popittt.appendTo($("#signinid")).popup();

		function changge() {
			var ipid = $("#inputid");
			if ("text" == ipid.attr("type")) {
				ipid.attr("type", "password");
			} else {
				ipid.attr("type", "text");
=======
		var strDM;
		apiready = function() {
			api.removeLaunchView();
			var header = $api.byId('header');
			$api.fixIos7Bar(header);
			strDM = api.systemType;
			if (strDM == 'ios') {
				$(".header").css("padding-top", "25px");
				$(".left").css("top", "25px");
				//				$(".center").css("top", "25px");
				$(".right").css("top", "25px");
				$(".micocontent").css("margin-top", "55px");
				$(".myselfcontent").css("margin-top", "55px");
				listy = 60;
>>>>>>> .r6
			}
			//			(function(el) {
			//				if (strDM == 'ios') {
			//					var strSV = api.systemVersion;
			//					var numSV = parseInt(strSV, 10);
			//					var fullScreen = api.fullScreen;
			//					var iOS7StatusBarAppearance = api.iOS7StatusBarAppearance;
			//					if (numSV >= 7 && !fullScreen && iOS7StatusBarAppearance) {
			//						el.style.paddingTop = '20px';
			//						/* 搜索图标单独处理. */
			//						//						$api.byId('search-advertise').style.top = "35px";
			//					}
			//				}
			//			})(header);
			getUserToken();
			devicelist_getDevList();
			if (strDM != 'ios') {
				listy = 50;
				api.addEventListener({
					name : "keyback"
				}, function(ret, err) {
					checkpage();
				});
			}
			addTouchMove();
		};
		function getUserToken() {
			userToken = getUserInfo().get("userToken");
		}

<<<<<<< .mine

		$("#wifi_psw").blur(function() {
			setTimeout('$("#popupLogin").popup("open")', 1000);
			//			$("#popupLogin").popup("open");
		});
		$("#signinid").click(function() {
			
			//			$("#dddddd").attr("data-role", "page");
						$("#popupLogin").popup("open");
			//			api.addEventListener({
			//				name : 'keyback'
			//			}, function(ret, err) {
			//				$.mobile.changePage("#devmanage", {
			//					transition : "none"
			//				});
			//				$("#popupLogin").popup("close");
			//			});
		});
		apiready = function() {
			//		var ver = api.version;
			//		var sType = api.systemType;
			//		var sVer = api.systemVersion;
			//		var id = api.deviceId;
			//		var model = api.deviceModel;
			//		var name = api.deviceName;
			//		var cType = api.connectionType;
			//		var winName = api.winName;
			//		var winWidth = api.winWidth;
			//		var winHeight = api.winHeight;
			//		var frameName = api.frameName||'';
			//		var frameWidth = api.frameWidth||'';
			//		var frameHeight = api.frameHeight||'';
			//
			//		var str = '<ul>';
			//		str += '<li><div class="txt">引擎版本信息: ' + ver + '</div></li>';
			//		str += '<li><div class="txt">系统类型: ' + sType + '</div></li>';
			//		str += '<li><div class="txt">系统版本: ' + sVer + '</div></li>';
			//		str += '<li><div class="txt">设备标识: ' + id + '</div></li>';
			//		str += '<li><div class="txt">设备型号: ' + model + '</div></li>';
			//		str += '<li><div class="txt">设备名称: ' + name + '</div></li>';
			//		str += '<li><div class="txt">网络状态: ' + cType + '</div></li>';
			//		str += '<li><div class="txt">主窗口名字: ' + winName + '</div></li>';
			//		str += '<li><div class="txt">主窗口宽度: ' + winWidth + '</div></li>';
			//		str += '<li><div class="txt">主窗口高度: ' + winHeight + '</div></li>';
			//		str += '<li><div class="txt">子窗口名字: ' + frameName + '</div></li>';
			//		str += '<li><div class="txt">子窗口宽度: ' + frameWidth + '</div></li>';
			//		str += '<li><div class="txt">子窗口高度: ' + frameHeight + '</div></li>';
			//		str += '</ul>';
			//
			//		$api.byId('sys-info').innerHTML = str;
		};
=======
		//	前往EasyLink页面
		$("#toeasylink").click(function() {
			changpage("ssidmanage", "EasyLink");
			//关闭listview
			devlistobj.close();
			PAGETAG = 5;
			//获取ssid
			getWifiSsid();
		});
		//		前往rgb页面
		$("#rgbliid").click(function() {
			//		$("#torgbctrl").click(function() {
			rgbreadtag = 0;
			changpage("rgbctrl", "");
			if ("On" == $("#rgbonoffbtn").find("option:selected").text()) {
				ctrlrgb();
			}
			sliderctrl();
			PAGETAG = 3;
			addTouchMove();
			//	删除定时publish
			window.clearInterval(selfInterval);
		});
		//		前往chat页面
		$("#chatliid").click(function() {
			//		$("#toUARTMSG").click(function() {
			changpage("chatctrl", "");
			chatctrl();
			//			ctrlrgb();
			//			sliderctrl();
			PAGETAG = 4;
			//	删除定时publish
			window.clearInterval(selfInterval);
		});
		//		前往feedback页面
		$("#tofbpage").click(function() {
			changpage("feedbackpage", "吐槽");
			PAGETAG = 7;
		});
		//前往用户信息修改界面
		$("#toeditaccount").click(function() {
			//页面跳转
			changpage("editaccount", "账号管理");
			PAGETAG = 7;
		});
		//		前往Update页面
		$("#touphispage").click(function() {
			changpage("uphispage", "更新历史");
			var showid = $("#uphistextid");
			readHisFile("uphis.txt", showid);
			PAGETAG = 7;
		});
		//		前往authorize页面
		$("#toAuthpage").click(function() {
			changpage("authpage", "授权");
			PAGETAG = 8;
			devicelist_getAuthDev();
		});
		//前往用户管理
		$("#tomyself").click(function() {
			changpage("myselfpage", "");
			//纯色
			devlistobj.close();
			PAGETAG = 6;
		});
		//前往首页
		$("#tohomepage").click(function() {
			//页面跳转
			changpage("homePage", "MiCOKit");
			//	刷新内容
			devicelist_getDevList();
		});
		//电动机控制
		$("#motorbtn").click(function() {
			var mtbtn = $("#motorbtn");
			var uartcode;
			if (mtbtn.attr("src") == "../image/smallicon-9kaiguan.png") {
				mtbtn.attr("src", "../image/smallicon-8kaiguan.png");
				uartcode = '{"' + MOTOR_KEY + '":0}';
				micoPublish(DEVID_GLOBAL + "/in/write/" + app1, uartcode);
			} else {
				mtbtn.attr("src", "../image/smallicon-9kaiguan.png");
				uartcode = '{"' + MOTOR_KEY + '":1}';
				micoPublish(DEVID_GLOBAL + "/in/write/" + app1, uartcode);
			}
		});
>>>>>>> .r6
	</script>
	<!--以下是画圆圈的-->
	<script type="text/javascript" src="../script/colorPicker.js"></script>
	<script>
		//是否开灯
		//		var rgb_switch;rgb_hues
		var width = 0.4 * document.body.clientHeight;
		//		var width = 250;
		//上次的color指数
		var lastrgbcode;
		$('#colorPicker1').attr('width', width).attr('height', width);
		var colorPicker = new colorPicker(document.getElementById('colorPicker1'), {
			h : 0.5,
			s : 5,
			v : 0,
			bgcolor : '#f0f0f0'
		});
		//设置控制手环的初始位置
		function setcirclesit(rgb_hues) {
			colorPicker.setColorHSV(rgb_hues, 5, 0);
		}

		function ctrlrgb() {
			rgbctrlinterval = self.setInterval("sendrgbcode()", 2 * 1000);
		}

		function sendrgbcode() {
			var color = colorPicker.getColorHSV();
			var colorcode = parseInt(color.h * 360);
			var brightcode = $('#brightspanid').val();
			var satcode = $('#satspanid').val();
			//			var rgbcode = '{"5":true,"6":' + colorcode + ',"7":' + satcode + ',"8":' + brightcode + '}';
			var rgbcode = '{"' + RGB_SWI_KEY + '":true,"' + RGB_HUES_KEY + '":' + colorcode + ',"' + RGB_SATU_KEY + '":' + satcode + ',"' + RGB_BRIGHT_KEY + '":' + brightcode + '}';
			if (lastrgbcode == rgbcode) {
				//没更新，不做处理
			} else {
				micoPublish(DEVID_GLOBAL + "/in/write/" + app1, rgbcode);
				lastrgbcode = rgbcode;
			}
		}

		function sliderctrl() {
			//亮度
			var bsliderMask = new Dragdealer('brightslider', {
				animationCallback : function(x, y) {
					$('#brightspanid').val(Math.round(x * 100));
				}
			});
			bsliderMask.setValue(rgb_bright, 0, true);
			//饱和度
			var ssliderMask = new Dragdealer('satslider', {
				animationCallback : function(x, y) {
					$('#satspanid').val(Math.round(x * 100));
				}
			});
			ssliderMask.setValue(rgb_statu, 0, true);
		}
	</script>
</html>